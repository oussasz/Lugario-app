(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{28732:function(e,t,l){Promise.resolve().then(l.t.bind(l,47960,23)),Promise.resolve().then(l.bind(l,40780)),Promise.resolve().then(l.bind(l,78107)),Promise.resolve().then(l.bind(l,79045)),Promise.resolve().then(l.bind(l,28752)),Promise.resolve().then(l.bind(l,14888)),Promise.resolve().then(l.bind(l,98087)),Promise.resolve().then(l.bind(l,47239)),Promise.resolve().then(l.bind(l,79441)),Promise.resolve().then(l.t.bind(l,65878,23)),Promise.resolve().then(l.t.bind(l,72972,23)),Promise.resolve().then(l.t.bind(l,88003,23)),Promise.resolve().then(l.t.bind(l,92119,23))},48520:function(e,t,l){"use strict";var s=l(57437);l(2265);var n=l(33145);t.Z=e=>{let{src:t}=e;return(0,s.jsx)(n.default,{className:"rounded-full select-none",height:"28",width:"28",alt:"Avatar",src:t||"/images/placeholder.jpg",unoptimized:!0})}},28752:function(e,t,l){"use strict";var s=l(57437);l(2265);var n=l(53160),r=l(39693),a=l(69064),i=l(80605);let o=new n.S({defaultOptions:{queries:{staleTime:6e4}}});t.default=e=>{let{children:t}=e;return(0,s.jsx)(r.aH,{client:o,children:(0,s.jsxs)(i.SessionProvider,{children:[(0,s.jsx)(a.x7,{position:"bottom-right"}),t]})})}},40780:function(e,t,l){"use strict";l.d(t,{default:function(){return h}});var s=l(57437),n=l(2265),r=l(99376),a=l(19764),i=l(73377),o=l(79118),c=l.n(o);l(7354),l(35217);var d=l(38706),u=l(78062),x=e=>{let{icon:t,label:l,displayLabel:n,selected:a,queryKey:i="category"}=e,o=(0,r.useRouter)(),c=(0,r.useSearchParams)();return(0,s.jsxs)("button",{type:"button",onClick:()=>{let e={};c&&(e=u.Z.parse(c.toString()));let t=e[i],s=Array.isArray(t)?t:"string"==typeof t?[t]:[],n=s.includes(l)?s.filter(e=>e!==l):[...s,l],r={...e,[i]:n.length?n:void 0};n.length||delete r[i];let a=u.Z.stringifyUrl({url:"/",query:r},{skipNull:!0});o.push(a)},className:" flex  flex-col max-w-fit  items-center  justify-center  gap-2 p-2 border-b-2  hover:text-neutral-800 transition cursor-pointer text-[20px] md:text-[24px] ".concat(a?"border-b-[#fd6d6c] text-[#fd6d6c]":"border-transparent text-neutral-500"),children:[(0,s.jsx)(t,{}),(0,s.jsx)("small",{className:"font-medium md:text-[13.75px] text-[12.75px] select-none",children:null!=n?n:l})]})},m=l(21099),h=()=>{var e,t,l;let o=(0,d.T)("Categories"),u=(0,d.T)("DurationOptions"),h=(0,d.T)("PurposeOptions"),p=(0,d.T)("FeatureOptions"),[b,f]=(0,n.useState)(!1),[g,j]=(0,n.useState)(!1),v=(0,n.useRef)(null),w=(0,n.useRef)(!1),y=(0,r.useSearchParams)(),N=(0,r.usePathname)(),Z=null!==(e=null==y?void 0:y.getAll("category"))&&void 0!==e?e:[],k=null!==(t=null==y?void 0:y.getAll("duration"))&&void 0!==t?t:[],T=null!==(l=null==y?void 0:y.getAll("feature"))&&void 0!==l?l:[];return((0,n.useEffect)(()=>{let e=c()(()=>{window.scrollY>0?f(!0):f(!1)},150);return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,n.useEffect)(()=>{var e,t,l,s,n,r;let a=null===(t=(l=window).matchMedia)||void 0===t?void 0:null===(e=t.call(l,"(prefers-reduced-motion: reduce)"))||void 0===e?void 0:e.matches;j(!!((null===(n=(r=window).matchMedia)||void 0===n?void 0:null===(s=n.call(r,"(min-width: 768px)"))||void 0===s?void 0:s.matches)&&!a))},[]),"/"!==N)?null:(0,s.jsx)("div",{className:" ".concat(b?"shadow-md shadow-[rgba(0,0,0,.045)]":""," transition-all duration-150"),children:(0,s.jsxs)(a.tq,{slidesPerView:"auto",freeMode:{enabled:!0,momentum:!0,momentumRatio:.85,momentumBounce:!0},resistanceRatio:.6,threshold:5,passiveListeners:!0,touchStartPreventDefault:!1,touchReleaseOnEdges:!0,rewind:!0,speed:g?9e3:250,autoplay:!!g&&{delay:0,disableOnInteraction:!0,pauseOnMouseEnter:!0},scrollbar:{draggable:!0,hide:!1},modules:[i.pt,i.Rv,i.LW],pagination:{clickable:!0},onSwiper:e=>{if(v.current=e,!g)return;let t=()=>{var t,l;return null===(l=e.autoplay)||void 0===l?void 0:null===(t=l.stop)||void 0===t?void 0:t.call(l)},l=()=>{var t,l;return null===(l=e.autoplay)||void 0===l?void 0:null===(t=l.start)||void 0===t?void 0:t.call(l)};e.on("touchStart",()=>{w.current=!0,t()}),e.on("touchEnd",()=>{w.current=!1,window.setTimeout(()=>{w.current||l()},600)}),e.on("scrollbarDragStart",t),e.on("scrollbarDragEnd",()=>window.setTimeout(l,300))},className:"categories-ribbon-swiper main-container mt-2 lg:!px-3 !px-2 pb-6 touch-pan-x select-none",children:[(0,s.jsx)(a.o5,{className:"max-w-fit",children:(0,s.jsx)("div",{className:"px-3 py-2 text-xs font-semibold text-neutral-500 select-none",children:o("duration")})},"group-duration"),m.z3.map(e=>(0,s.jsx)(a.o5,{className:"max-w-fit",children:(0,s.jsx)(x,{label:e.label,displayLabel:u("".concat(e.id,".label")),icon:e.icon,queryKey:"duration",selected:k.includes(e.label)})},"duration-".concat(e.label))),(0,s.jsx)(a.o5,{className:"max-w-fit",children:(0,s.jsx)("div",{className:"h-8 w-px bg-neutral-200 my-2 mx-2"})},"divider-1"),(0,s.jsx)(a.o5,{className:"max-w-fit",children:(0,s.jsx)("div",{className:"px-3 py-2 text-xs font-semibold text-neutral-500 select-none",children:o("purpose")})},"group-purpose"),m.KP.map(e=>(0,s.jsx)(a.o5,{className:"max-w-fit",children:(0,s.jsx)(x,{label:e.label,displayLabel:h("".concat(e.id,".label")),icon:e.icon,queryKey:"category",selected:Z.includes(e.label)})},"purpose-".concat(e.label))),(0,s.jsx)(a.o5,{className:"max-w-fit",children:(0,s.jsx)("div",{className:"h-8 w-px bg-neutral-200 my-2 mx-2"})},"divider-2"),(0,s.jsx)(a.o5,{className:"max-w-fit",children:(0,s.jsx)("div",{className:"px-3 py-2 text-xs font-semibold text-neutral-500 select-none",children:o("features")})},"group-features"),m.W$.map(e=>(0,s.jsx)(a.o5,{className:"max-w-fit",children:(0,s.jsx)(x,{label:e.label,displayLabel:p("".concat(e.id,".label")),icon:e.icon,queryKey:"feature",selected:T.includes(e.label)})},"feature-".concat(e.label)))]})})}},78107:function(e,t,l){"use strict";var s=l(57437),n=l(2265),r=l(30166),a=l(31303),i=l(99376),o=l(5674),c=l(38706),d=l(71151);let u=(0,r.default)(()=>l.e(378).then(l.bind(l,46378)),{loadableGenerated:{webpack:()=>[46378]},ssr:!1});t.default=()=>{let e=(0,c.T)("Search"),t=(0,i.useSearchParams)(),l=null==t?void 0:t.get("country"),r=null==t?void 0:t.get("region"),x=null==t?void 0:t.get("municipality"),m=null==t?void 0:t.get("startDate"),h=null==t?void 0:t.get("endDate"),p=null==t?void 0:t.get("guestCount"),b=(0,n.useMemo)(()=>{if(m&&h){let t=new Date(m),l=new Date(h),s=(0,a.j)(l,t);return 0===s&&(s=1),e("days",{count:s})}return e("anyWeek")},[h,m,e]),f=p?e("guests",{count:Number(p)}):e("addGuests");return(0,s.jsxs)(d.Z,{children:[(0,s.jsx)(d.Z.Trigger,{name:"search",children:(0,s.jsx)("button",{type:"button",className:"border-[1px] w-full md:w-auto py-2 rounded-full shadow-sm hover:shadow-md transition duration-300 cursor-pointer",children:(0,s.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,s.jsx)("small",{className:"text-sm font-bold px-6 text-[#585858]",children:x||r||l||e("anywhere")}),(0,s.jsx)("small",{className:"hidden sm:block text-sm font-bold px-6 border-x-[1px] flex-1 text-center text-[#585858]",children:b}),(0,s.jsxs)("div",{className:"text-sm pl-6 pr-2 text-gray-600 flex flex-row items-center gap-4",children:[(0,s.jsx)("small",{className:"hidden sm:block font-normal text-sm",children:f}),(0,s.jsx)("div",{className:"p-2  bg-rose-500 rounded-full  text-white",children:(0,s.jsx)(o.U41,{className:"text-[12px] "})})]})]})})}),(0,s.jsx)(d.Z.Window,{name:"search",children:(0,s.jsx)(u,{})})]})}},79045:function(e,t,l){"use strict";l.d(t,{default:function(){return Z}});var s=l(57437),n=l(2265),r=l(48053),a=l(99376),i=l(80605),o=l(69234),c=l(38706),d=l(48520),u=l(78076),x=e=>{let{label:t,onClick:l}=e;return(0,s.jsx)(u.Z.Button,{className:" hover:bg-neutral-100 transition font-semibold select-none",onClick:l,children:t})},m=l(66200),h=l(71151),p=l(83871),b=l(29501),f=l(69064),g=l(25125),j=l(73352),v=l(64392),w=l(57212);l(83079);var y=(0,l(12119).$)("d43d4493005236cb5219abd8b6f97fe8c9759f39"),N=e=>{let{name:t,onCloseModal:l}=e,o=(0,c.T)("Auth"),d=(0,c.T)("Menu"),[u,x]=(0,n.useTransition)(),[m,N]=(0,n.useState)("Sign up"===t?"signup":"login"),{register:Z,handleSubmit:k,watch:T,formState:{errors:P},reset:C,setError:S,setFocus:E}=(0,b.cI)({defaultValues:{email:"",password:"",name:""}}),O=(0,a.useRouter)(),A="login"===m,R=d(A?"logIn":"signUp");return(0,n.useEffect)(()=>{let e=setTimeout(()=>{A?E("email"):E("name")},300);return()=>clearTimeout(e)},[A,E]),(0,s.jsxs)("div",{className:"h-full w-full",children:[(0,s.jsx)(h.Z.WindowHeader,{title:R}),(0,s.jsxs)("form",{className:"flex flex-col gap-5 p-6 pb-0 w-full h-full",onSubmit:k(e=>{let{email:t,password:s,name:n}=e;x(async()=>{try{if(A){let e=await (0,i.signIn)("credentials",{email:t,password:s,redirect:!1});if(null==e?void 0:e.error)throw Error(e.error);(null==e?void 0:e.ok)&&(f.ZP.success(o("loggedIn")),null==l||l(),O.refresh())}else await y({email:t,password:s,name:n}),N("login"),f.ZP.success(o("registered")),C()}catch(e){f.ZP.error(e.message),A&&(C(),S("email",{}),S("password",{}),setTimeout(()=>{E("email")},100))}})}),children:[(0,s.jsx)(g.Z,{title:A?o("welcomeBack"):o("welcomeTo"),subtitle:A?o("loginToAccount"):o("createAccount")}),!A&&(0,s.jsx)(j.Z,{id:"name",label:o("name"),disabled:u,register:Z,errors:P,required:!0,watch:T}),(0,s.jsx)(j.Z,{id:"email",label:o("email"),disabled:u,register:Z,errors:P,required:!0,watch:T}),(0,s.jsx)(j.Z,{id:"password",label:o("password"),type:"password",disabled:u,register:Z,errors:P,required:!0,watch:T}),(0,s.jsx)(v.Z,{type:"submit",className:"flex items-center justify-center h-[42px]",children:u?(0,s.jsx)(w.Z,{className:"w-5 h-5"}):o("continue")})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-4 mt-3 p-6 pt-0",children:[(0,s.jsx)("hr",{}),(0,s.jsxs)(v.Z,{outline:!0,onClick:()=>(0,i.signIn)("google"),className:"flex flex-row justify-center gap-2 items-center px-3 py-2",children:[(0,s.jsx)(p.JM8,{className:"w-6 h-6"}),(0,s.jsx)("span",{className:"text-[14px]",children:o("continueWithGoogle")})]}),(0,s.jsxs)(v.Z,{outline:!0,onClick:()=>(0,i.signIn)("github"),className:"flex flex-row justify-center gap-2 items-center px-3 py-2",children:[(0,s.jsx)(r.RrF,{className:"w-6 h-6"}),(0,s.jsx)("span",{className:"text-[14px]",children:o("continueWithGithub")})]}),(0,s.jsx)("div",{className:"   text-neutral-500    text-center    mt-2    font-light   ",children:(0,s.jsxs)("div",{className:"text-[15px]",children:[(0,s.jsx)("small",{className:"text-[15px]",children:A?o("firstTime"):o("alreadyHaveAccount")}),(0,s.jsx)("button",{type:"button",onClick:()=>{N(A?"signup":"login"),C()},className:"   text-neutral-800   cursor-pointer    hover:underline   ml-1   font-medium   ",children:A?o("createAnAccount"):d("logIn")})]})})]})]})},Z=e=>{let{user:t}=e,l=(0,a.useRouter)(),n=(0,o.bU)(),p=(0,c.T)("Menu"),b=(0,c.T)("Navbar"),f=(0,c.T)("Language"),g=e=>{l.push(e)},j=async e=>{e!==n&&(await fetch("/api/locale",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({locale:e})}),l.refresh())};return(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("div",{className:"flex flex-row items-center gap-3",children:(0,s.jsxs)(h.Z,{children:[(0,s.jsx)(h.Z.Trigger,{name:t?"share":"login",children:(0,s.jsx)("button",{type:"button",className:"hidden md:block text-sm font-bold py-3 px-4 rounded-full hover:bg-neutral-100 transition cursor-pointer text-[#585858]",children:b("shareHome")})}),(0,s.jsxs)(u.Z,{children:[(0,s.jsx)(u.Z.Toggle,{id:"user-menu",children:(0,s.jsxs)("button",{type:"button",className:" p-4 md:py-1 md:px-2 border-[1px]   border-neutral-200  flex  flex-row  items-center   gap-3   rounded-full   cursor-pointer   hover:shadow-md   transition duration-300",children:[(0,s.jsx)(r.qTj,{}),(0,s.jsx)("div",{className:"hidden md:block",children:(0,s.jsx)(d.Z,{src:null==t?void 0:t.image})})]})}),(0,s.jsx)(u.Z.List,{className:"shadow-[0_0_36px_4px_rgba(0,0,0,0.075)] rounded-xl bg-white text-sm",children:t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x,{label:p("myTrips"),onClick:()=>g("/trips")}),(0,s.jsx)(x,{label:p("myFavorites"),onClick:()=>g("/favorites")}),(0,s.jsx)(x,{label:p("myReservations"),onClick:()=>g("/reservations")}),(0,s.jsx)(x,{label:p("myProperties"),onClick:()=>g("/properties")}),(0,s.jsx)(h.Z.Trigger,{name:"share",children:(0,s.jsx)(x,{label:b("shareHome")})}),(0,s.jsx)("hr",{}),(0,s.jsx)(x,{label:p("logOut"),onClick:i.signOut}),(0,s.jsx)("hr",{}),(0,s.jsx)("div",{className:"px-4 py-2 text-[11px] font-semibold text-neutral-500",children:f("label")}),(0,s.jsx)(x,{label:"".concat("en"===n?"✓ ":"").concat(f("english")),onClick:()=>j("en")}),(0,s.jsx)(x,{label:"".concat("fr"===n?"✓ ":"").concat(f("french")),onClick:()=>j("fr")}),(0,s.jsx)(x,{label:"".concat("ar"===n?"✓ ":"").concat(f("arabic")),onClick:()=>j("ar")})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.Z.Trigger,{name:"login",children:(0,s.jsx)(x,{label:p("logIn")})}),(0,s.jsx)(h.Z.Trigger,{name:"signup",children:(0,s.jsx)(x,{label:p("signUp")})}),(0,s.jsx)("hr",{}),(0,s.jsx)("div",{className:"px-4 py-2 text-[11px] font-semibold text-neutral-500",children:f("label")}),(0,s.jsx)(x,{label:"".concat("en"===n?"✓ ":"").concat(f("english")),onClick:()=>j("en")}),(0,s.jsx)(x,{label:"".concat("fr"===n?"✓ ":"").concat(f("french")),onClick:()=>j("fr")}),(0,s.jsx)(x,{label:"".concat("ar"===n?"✓ ":"").concat(f("arabic")),onClick:()=>j("ar")})]})})]}),(0,s.jsx)(h.Z.Window,{name:"login",children:(0,s.jsx)(N,{name:"Login"})}),(0,s.jsx)(h.Z.Window,{name:"signup",children:(0,s.jsx)(N,{name:"Sign up"})}),(0,s.jsx)(h.Z.Window,{name:"share",children:(0,s.jsx)(m.Z,{})})]})})})}},47960:function(){}},function(e){e.O(0,[52,582,420,115,712,465,400,82,158,275,555,827,971,117,744],function(){return e(e.s=28732)}),_N_E=e.O()}]);