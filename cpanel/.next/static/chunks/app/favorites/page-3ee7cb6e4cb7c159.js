(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[57],{153:function(e,t,s){Promise.resolve().then(s.bind(s,86588)),Promise.resolve().then(s.bind(s,68184)),Promise.resolve().then(s.bind(s,19899))},68184:function(e,t,s){"use strict";var a=s(57437);s(2265);var l=s(25125),n=s(27648),r=s(38706);t.default=e=>{let{title:t,subtitle:s,showReset:i}=e,c=(0,r.T)("Empty"),o=null!=t?t:c("noExactMatches"),d=null!=s?s:c("tryChangeFilters");return(0,a.jsxs)("div",{className:" h-[60vh] flex flex-col gap-2 justify-center items-center",children:[(0,a.jsx)(l.Z,{center:!0,title:o,subtitle:d}),(0,a.jsx)("div",{className:"w-48 mt-4",children:i&&(0,a.jsx)(n.default,{href:"/",className:"bg-white border-[1px] border-gray-500 text-[#4e4e4e] rounded hover:opacity-80 transition ",children:c("removeAllFilters")})})]})}},31451:function(e,t,s){"use strict";s.d(t,{default:function(){return h}});var a=s(57437),l=s(2265),n=s(48053),r=s(69064),i=s(52884),c=s(14123),o=s.n(c),d=s(80605),u=s(20698);s(83079);var f=s(12119);(0,f.$)("001837c49f82a4a4d75b3dc0964dc6c76e2d2b77"),(0,f.$)("c1a53f0f37ee773167b45a3bf6a61b76eb07c326");var x=(0,f.$)("ab224d6a6aaea9fdd9ddb9b9a8c9dad0cd2e02f8"),h=e=>{let{listingId:t,hasFavorited:s}=e,{status:c}=(0,d.useSession)(),[f,h]=(0,l.useState)(s),m=(0,l.useRef)(s),{mutate:p}=(0,i.D)({mutationFn:x,onError:()=>{m.current=!m.current,h(m.current),r.Am.error("Failed to favorite")}}),b=o()(()=>{p({listingId:t,favorite:m.current})},300),v=(0,l.useCallback)(()=>{b()},[]);return(0,a.jsxs)("button",{type:"button",onClick:e=>{if(e.stopPropagation(),e.preventDefault(),"authenticated"!==c){r.Am.error("Please sign in to favorite the listing!");return}v(),h(e=>!e),m.current=!m.current},className:" relative hover:opacity-80 transition cursor-pointer z-[5] ",children:[(0,a.jsx)(n.lo,{size:28,className:"   text-gray-50   absolute   -top-[2px]   -right-[2px]   "}),(0,a.jsx)(n.M_L,{size:24,className:(0,u.cn)(f?"fill-rose-500":"fill-neutral-500/70")})]})}},23610:function(e,t,s){"use strict";var a=s(57437),l=s(2265),n=s(33145),r=s(20698);t.default=e=>{let{imageSrc:t,fill:s=!1,alt:i,className:c,priority:o=!1,effect:d,sizes:u}=e,[f,x]=(0,l.useState)(!1);return(0,a.jsx)(n.default,{fill:s,className:(0,r.cn)("transition duration-300","zoom"===d&&"scale-95",f?"opacity-100 scale-100":"opacity-0",c),src:t,alt:i,onLoad:()=>x(!0),priority:o,sizes:u,unoptimized:!0})}},19899:function(e,t,s){"use strict";s.d(t,{T:function(){return D},default:function(){return k}});var a=s(57437),l=s(2265),n=s(27648),r=s(66009),i=s(41208),c=s(69234),o=s(38706),d=s(31451),u=s(23610),f=s(20698),x=s(32970),h=s(99376),m=s(52884),p=s(69064),b=s(78076),v=s(71151),j=s(97230),g=s(64392),N=s(57212),y=e=>{let{title:t,onConfirm:s,onCloseModal:l,isLoading:n=!1}=e;return(0,a.jsxs)("div",{className:" flex flex-col gap-3 px-6 py-8 relative",children:[(0,a.jsx)("button",{type:"button",className:" p-1 border-0  hover:opacity-70 transition absolute right-3 top-3",onClick:()=>null==l?void 0:l(),children:(0,a.jsx)(j.QAE,{size:20})}),(0,a.jsx)("h1",{className:"text-[22px] font-bold text-gray-800",children:t}),(0,a.jsx)("p",{className:"text-gray-700  text-[16px] leading-[1.6] mb-4",children:"Are you sure you want to do this? It can't be undone."}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-1 h-[40px]",children:[(0,a.jsx)(g.Z,{onClick:()=>null==l?void 0:l(),className:"h-full",outline:!0,children:"Cancel"}),(0,a.jsx)(g.Z,{onClick:()=>{s(l)},className:"h-full flex items-center justify-center",children:n?(0,a.jsx)(N.Z,{}):(0,a.jsx)("span",{children:" Confirm"})})]})]})};s(83079);var w=s(12119),Z=(0,w.$)("db16f98a7dd509dc43fd9fb70035dab959baf639");(0,w.$)("cac5bff2370d361859fcb45ded3a18f9feb290ff"),(0,w.$)("578785c17f7947cb2d65472cb4242c57c8621203"),(0,w.$)("1106a624fc89780734d43596a1878891b0872f57"),(0,w.$)("84b639be183e082fba4d06c9dff2f39883927b92");var P=(0,w.$)("2ad9c02f7138be20aaff203fa989dbdd2c65d88f");let C={"/properties":"Delete property","/trips":"Cancel reservation","/reservations":"Cancel guest reservation"};var z=e=>{let{id:t}=e,s=(0,h.usePathname)(),{mutate:n}=(0,m.D)({mutationFn:Z}),{mutate:r}=(0,m.D)({mutationFn:P}),[i,c]=(0,l.useTransition)();return"/"===s||"/favorites"===s?null:(0,a.jsxs)(v.Z,{children:[(0,a.jsxs)(b.Z,{children:[(0,a.jsx)(b.Z.Toggle,{id:"lisiting-menu",className:"w-10 h-10 flex items-center z-5 justify-center",children:(0,a.jsx)("button",{type:"button",className:"w-7 h-7 rounded-full bg-neutral-700/50 flex items-center justify-center hover:bg-neutral-700/70 group transition duration-200 z-[5]",children:(0,a.jsx)(x.evw,{className:"h-[18px] w-[18px] text-gray-300 transition duration-100 group-hover:text-gray-100 "})})}),(0,a.jsx)(b.Z.List,{position:"bottom-left",className:"rounded-md",children:(0,a.jsx)(v.Z.Trigger,{name:"confirm-delete",children:(0,a.jsx)(b.Z.Button,{className:"text-[14px] rounded-md font-semibold py-[10px] hover:bg-neutral-100 transition",children:C[s]})})})]}),(0,a.jsx)(v.Z.Window,{name:"confirm-delete",children:(0,a.jsx)(y,{onConfirm:e=>{c(()=>{try{"/properties"===s?n(t,{onSuccess:()=>{null==e||e(),p.ZP.success("Listing successfully deleted!")}}):("/trips"===s||"/reservations"===s)&&r(t,{onSuccess:()=>{null==e||e(),p.ZP.success("Reservation successfully cancelled!")}})}catch(t){p.ZP.error("Oops! Something went wrong. Please try again later."),null==e||e()}})},title:C[s],isLoading:i})})]})},$=s(21099),k=e=>{let t,{data:s,reservation:l,hasFavorited:i}=e,x=(0,c.bU)(),h=(0,o.T)("Listing"),m=(0,o.T)("PurposeOptions"),p=l?l.totalPrice:null==s?void 0:s.price;if(l){let e=new Date(l.startDate),s=new Date(l.endDate);t="".concat((0,r.WU)(e,"PP")," - ").concat((0,r.WU)(s,"PP"))}let b=(()=>{let e=$.KP.find(e=>e.label===s.category);return e?m("".concat(e.id,".label")):s.category})();return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"absolute top-0 left-0 p-3 flex items-center justify-between w-full",children:[(0,a.jsx)("div",{className:"z-5",children:(0,a.jsx)(z,{id:(null==l?void 0:l.id)||s.id})}),(0,a.jsx)("div",{className:"w-[28px] h-[28px] flex items-center justify-center",children:(0,a.jsx)(d.default,{listingId:s.id,hasFavorited:i},s.id)})]}),(0,a.jsx)(n.default,{href:"/listings/".concat(s.id),className:"col-span-1 cursor-pointer",children:(0,a.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,a.jsx)("div",{className:" overflow-hidden md:rounded-xl rounded-md",children:(0,a.jsx)("div",{className:"aspect-[1/0.95] relative bg-gray-100",children:(0,a.jsx)(u.default,{imageSrc:s.imageSrc,fill:!0,alt:s.title,effect:"zoom",className:"object-cover",sizes:"100vw"})})}),(0,a.jsxs)("span",{className:"font-semibold text-[16px] mt-[4px]",children:[null==s?void 0:s.region,", ",null==s?void 0:s.country]}),(0,a.jsx)("span",{className:"font-light text-neutral-500 text-sm",children:t||b}),(0,a.jsxs)("div",{className:"flex flex-row items-baseline gap-1",children:[(0,a.jsxs)("span",{className:"font-bold text-[#444] text-[14px]",children:["$ ",(0,f.T)(p,x)]}),!l&&(0,a.jsx)("span",{className:"font-light",children:h("night")})]})]})})]})};let D=()=>(0,a.jsx)("div",{className:"col-span-1 ",children:(0,a.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,a.jsx)(i.Z,{width:"100%",height:"100%",borderRadius:"12px",className:"aspect-square"}),(0,a.jsxs)("div",{className:"flex flex-row gap-3",children:[(0,a.jsx)(i.Z,{height:"18px",width:"84px"}),(0,a.jsx)(i.Z,{height:"18px",width:"84px"})]}),(0,a.jsx)(i.Z,{height:"16px",width:"102px"}),(0,a.jsx)(i.Z,{height:"18px",width:"132px"})]})})}},function(e){e.O(0,[582,420,115,712,400,447,137,373,616,147,971,117,744],function(){return e(e.s=153)}),_N_E=e.O()}]);